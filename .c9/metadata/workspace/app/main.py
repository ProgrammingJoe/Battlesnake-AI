{"filter":false,"title":"main.py","tooltip":"/app/main.py","undoManager":{"mark":11,"position":11,"stack":[[{"group":"doc","deltas":[{"start":{"row":166,"column":1},"end":{"row":166,"column":2},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":2},"end":{"row":166,"column":3},"action":"insert","lines":["r"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":3},"end":{"row":166,"column":4},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":4},"end":{"row":166,"column":5},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":5},"end":{"row":166,"column":6},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":6},"end":{"row":166,"column":7},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":7},"end":{"row":166,"column":8},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":8},"end":{"row":166,"column":9},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":9},"end":{"row":166,"column":10},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":10},"end":{"row":166,"column":11},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":166,"column":11},"end":{"row":166,"column":12},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":90,"column":48},"end":{"row":91,"column":39},"action":"remove","lines":[" for anything","\t# most likely use it to represent risk"]},{"start":{"row":114,"column":0},"end":{"row":115,"column":0},"action":"insert","lines":["",""]},{"start":{"row":135,"column":13},"end":{"row":202,"column":34},"action":"remove","lines":["","","","################################################################################","# Server                                                                       #","################################################################################","","@bottle.get('/')","def index():","\treturn \"\"\"","\t\t  <a href=\"https://github.com/sendwithus/battlesnake-python\">","\t\t\tbattlesnake-python","\t\t</a>","\t\"\"\"","","","@bottle.post('/start')","def start():","\tdata = bottle.request.json","","\treturn json.dumps({","\t\t'name': snakeName,","\t\t'color': '#EF0006',","\t\t'head_url': 'http://battlesnake-python.herokuapp.com',","\t\t'taunt': 'battlesnake-python!'","\t})","","","@bottle.post('/move')","def move():","\tdata = bottle.request.json","\tprint(data)","\tourSnake = None"," ","\tgrid = Grid(len(data.board[0]), len(data.board))","\tfor snake in data.snakes:","\t\tif snake.state == \"alive\":","\t\t\tfor coord in snake.coords:","\t\t\t\tgrid.obstruct(coord)","\t\t\tif snake.name != snakeName:","\t\t\t\tfor direction in directions:","\t\t\t\t\thead = snake.coords[0]","\t\t\t\t\tmovement = (head[0] + direction[0], head[1] + direction[1])","\t\t\t\t\tgrid.obstruct(movement)","\t\t\telse:","\t\t\t\tourSnake = snake","\t\t\t","\tpath = aStar(grid, ourSnake.coords[0], data.food[0])","\t","\tmove = 'left'","\t","\tif path != False:","\t\tmove = directions[path.direction()]","\t","\treturn json.dumps({","\t\t'move': move,","\t\t'taunt': 'battlesnake-python!'","\t})","","","@bottle.post('/end')","def end():","\tdata = bottle.request.json","","\treturn json.dumps({})","","# Expose WSGI app","application = bottle.default_app()"]}]}]]},"ace":{"folds":[],"scrolltop":1520,"scrollleft":0,"selection":{"start":{"row":135,"column":13},"end":{"row":135,"column":13},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":107,"state":"start","mode":"ace/mode/python"}},"timestamp":1424556712596,"hash":"836b7f820c618be6c1667a8ba29ab7f986eedaaa"}